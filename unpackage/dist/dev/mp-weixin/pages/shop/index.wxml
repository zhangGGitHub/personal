<view class="container"><view style="border-bottom:2rpx solid #EEEEEE;height:110rpx;"><van-search vue-id="a932cbd8-1" placeholder="请输入搜索关键词" shape="round" data-com-type="wx" bind:__l="__l"></van-search></view><scroll-view class="tab-view" scroll-y scroll-with-animation scroll-top="{{scrollTop}}"><block wx:for="{{commodityGroup}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['tab-bar-item',commodityGroupIndex==index?'active':'']}}" data-current="{{index}}" data-event-opts="{{[['tap',[['swichNav',['$event']]]]]}}" catchtap="__e"><text>{{item.typeName}}</text></view></block></scroll-view><scroll-view class="right-box" scroll-y><block wx:for="{{commodityGroup[commodityGroupIndex].goods}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="padding-top-xs flex"><view><image style="width:140rpx;height:140rpx;" src="{{item.goodsImage}}"></image></view><view class="padding-left-xs flex flex-direction padding-right" style="flex:1;"><view>{{item.goodsName}}</view><view class="text-gray text-sm">{{"销量"+item.sellNum+" 库存"+item.stock}}</view><view class="flex justify-between align-center" style="margin-top:auto;"><text class="text-price">{{item.price}}</text><block wx:if="{{item.num!=0}}"><view><van-stepper vue-id="{{'a932cbd8-2-'+index}}" value="{{item.num}}" disable-input="{{true}}" long-press="{{false}}" min="{{0}}" data-event-opts="{{[['^minus',[['goodsLessNum',['$0'],[[['commodityGroup.'+commodityGroupIndex+'.goods','',index,'id']]]]]],['^plus',[['goodsAddNum',['$0'],[[['commodityGroup.'+commodityGroupIndex+'.goods','',index,'id']]]]]]]}}" data-com-type="wx" bind:minus="__e" bind:plus="__e" bind:__l="__l"></van-stepper></view></block><block wx:else><view><view data-event-opts="{{[['tap',[['goodsAddNum',['$0'],[[['commodityGroup.'+commodityGroupIndex+'.goods','',index,'id']]]]]]]}}" class="num" bindtap="__e"></view></view></block></view></view></view></block></block></scroll-view><view><van-submit-bar vue-id="a932cbd8-3" price="{{totalPrice*100}}" disabled="{{totalPrice==0?true:false}}" button-text="提交订单" button-type="info" data-event-opts="{{[['^submit',[['e0']]]]}}" data-com-type="wx" bind:submit="__e" bind:__l="__l"></van-submit-bar></view><van-popup vue-id="a932cbd8-4" show="{{isShowShopCar}}" position="bottom" data-event-opts="{{[['^clickOverlay',[['e1']]]]}}" data-com-type="wx" bind:clickOverlay="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="padding"><view class="padding-bottom text-center text-bold text-xl">已购商品</view><block wx:for="{{selectCommodityList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="flex align-center justify-between padding-bottom padding-left-xs padding-right-xs" style="font-size:30rpx;"><view style="width:33%;">{{item.goodsName}}</view><view style="width:33%;">单价：<text class="text-price text-orange">{{item.price}}</text></view><view class="text-center" style="width:33%;">{{"数量：x"+item.num}}</view></view></block><block wx:if="{{isDefaultAddress}}"><view style="border-top:2rpx solid #F1F1F1;"><view class="padding-bottom padding-top flex align-center justify-between"><view>配送至默认收货地址:</view><view data-event-opts="{{[['tap',[['toModify',['$event']]]]]}}" bindtap="__e"><van-tag vue-id="{{('a932cbd8-5')+','+('a932cbd8-4')}}" plain type="primary" size="medium" data-com-type="wx" bind:__l="__l" vue-slots="{{['default']}}">去更改</van-tag></view></view><view class="address1" style="flex:1;padding:20rpx 0 20rpx 20rpx;"><view class="flex align-center"><view>{{"收货人："+defaultAddress.consignee}}</view><view class="margin-left">{{"手机号："+defaultAddress.phoneNumber}}</view></view><view class="padding-top-xs">{{'地址：'+defaultAddress.city+"-"+defaultAddress.shippingAddress+''}}</view></view></view></block><view class="padding-top-sm flex justify-center"><van-button vue-id="{{('a932cbd8-6')+','+('a932cbd8-4')}}" type="info" size="normal" data-event-opts="{{[['^click',[['confirmPay']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">确认付款</van-button></view></view></van-popup><van-dialog vue-id="a932cbd8-7" use-slot title="长按保存二维码" show="{{isShowQrCodeDialog}}" data-event-opts="{{[['^confirm',[['e2']]]]}}" data-com-type="wx" bind:confirm="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex align-center justify-center"><image style="width:520rpx;height:520rpx;" src="{{'data:image/png;base64,'+payQrcode}}" data-event-opts="{{[['longpress',[['saveQrCode',['$event']]]]]}}" bindlongpress="__e"></image></view></van-dialog><van-toast vue-id="a932cbd8-8" id="van-toast" data-com-type="wx" bind:__l="__l"></van-toast><van-dialog vue-id="a932cbd8-9" id="van-dialog" data-com-type="wx" bind:__l="__l"></van-dialog></view>