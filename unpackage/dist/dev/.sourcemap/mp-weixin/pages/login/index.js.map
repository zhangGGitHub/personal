{"version":3,"sources":["webpack:///F:/众惠物联/备份/main.js","webpack:///F:/众惠物联/备份/pages/login/index.vue?7df3","webpack:///F:/众惠物联/备份/pages/login/index.vue?8b95","webpack:///F:/众惠物联/备份/pages/login/index.vue?45d1","webpack:///F:/众惠物联/备份/pages/login/index.vue?4b54","webpack:///F:/众惠物联/备份/pages/login/index.vue","webpack:///F:/众惠物联/备份/pages/login/index.vue?df33","webpack:///F:/众惠物联/备份/pages/login/index.vue?7fbd"],"names":["createPage","Page","data","isLogin","code","type","onLoad","that","uni","login","success","e","methods","getUserInfo","detail","errMsg","console","log","userDetailWx","userInfo","Toast","loading","mask","duration","message","uniFly","post","url","params","iv","encryptedData","then","res","openId","loginByOpenId","avatarUrl","nickName","userName","avatar","setStorageSync","token","headers","setTimeout","navigateBack","delta","reLaunch","msg","toAddressList","navigateTo"],"mappings":"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","file":"pages/login/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/login/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=607e9ed4&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=607e9ed4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"607e9ed4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"F:/众惠物联/备份/pages/login/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=607e9ed4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.type = 1\n    }\n\n    _vm.e1 = function($event) {\n      _vm.type = 2\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Toast from '../../wxcomponents/vant/toast/toast';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// 是否登录\n\t\t\tisLogin: false,\n\t\t\t// 临时登录凭证\n\t\t\tcode: '',\n\t\t\t// 判断用户类型\n\t\t\ttype: 0\n\t\t};\n\t},\n\tonLoad: function() {\n\t\tvar that = this\n\t\t// 获取临时code\n\t\tuni.login({\n\t\t\tsuccess: (e) => {\n\t\t\t\tthat.code = e.code\n\t\t\t}\n\t\t})\n\t},\n\tmethods: {\n\t\t// 用户点击登录\n\t\tgetUserInfo: function(e) {\n\t\t\tvar that = this\n\t\t\tif (e.detail.errMsg == 'getUserInfo:ok') {\n\t\t\t\tvar code = ''\n\t\t\t\tconsole.log('用户点击登录', e)\n\t\t\t\tif (this.code == '') {\n\t\t\t\t\t// 获取临时code\n\t\t\t\t\tuni.login({\n\t\t\t\t\t\tsuccess: (e) => {\n\t\t\t\t\t\t\tcode = e.code\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.userDetailWx = e.detail.userInfo\n\t\t\t\tToast.loading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\tduration: 0,\n\t\t\t\t\tmessage: '登录中'\n\t\t\t\t})\n\t\t\t\tthis.uniFly.post({\n\t\t\t\t\turl: '/user/decodeUserInfo',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tiv: e.detail.iv,\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\n\t\t\t\t\t\tcode: that.code == '' ? code : that.code\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tconsole.log('解密openid', res)\n\t\t\t\t\tif (res.data.code != 0) {\n\t\t\t\t\t\tToast(res.data.code)\n\t\t\t\t\t}\n\t\t\t\t\tif (res.data.code == 0 && !res.data.data.openId) {\n\t\t\t\t\t\tToast('openid解密失败,请重新登录')\n\t\t\t\t\t}\n\t\t\t\t\tif (res.data.code == 0 && res.data.data.openId) {\n\t\t\t\t\t\t// 通过openid登录\n\t\t\t\t\t\tthat.loginByOpenId(e.detail.userInfo.avatarUrl, e.detail.userInfo.nickName, res.data.data.openId)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// 通过openId登录\n\t\tloginByOpenId: function(avatarUrl, nickName, openId) {\n\t\t\tvar that = this\n\t\t\tthis.uniFly.post({\n\t\t\t\turl: '/user/loginByOpenId',\n\t\t\t\tparams: {\n\t\t\t\t\topenId: openId,\n\t\t\t\t\tuserName: nickName, \n\t\t\t\t\tavatar: avatarUrl\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log('通过openId登录', res)\n\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\tthis.isLogin = true\n\t\t\t\t\tuni.setStorageSync('isLogin', true)\n\t\t\t\t\tuni.setStorageSync('openId', openId)\n\t\t\t\t\tuni.setStorageSync('userInfo', res.data.data.userInfo)\n\t\t\t\t\tuni.setStorageSync('token', res.data.data.token);\n\t\t\t\t\tthat.uniFly.headers['Token'] = res.data.data.token;\n\t\t\t\t\tif (that.type == 1) {\n\t\t\t\t\t\tToast('登陆成功-普通')\n\t\t\t\t\t\tuni.setStorageSync('tokenType', 1);\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, 200)\n\t\t\t\t\t} else if (that.type == 2) {\n\t\t\t\t\t\tuni.setStorageSync('tokenType', 2);\n\t\t\t\t\t\tToast('登陆成功-商家')\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: '../merchantSide/index'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, 200)\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tToast('登录失败,' + res.data.msg)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 跳转地址管理页面\n\t\ttoAddressList: function() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../addressList/index'\n\t\t\t})\n\t\t}\n\t}\n};\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=607e9ed4&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=607e9ed4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1585795163741\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}